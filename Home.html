<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style>
        .datagrid table { border-collapse: collapse; text-align: left; width: 100%; } .datagrid {font: normal 12px/150% Arial, Helvetica, sans-serif; background: #fff; overflow: hidden; border: 1px solid #006699; -webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; }.datagrid table td, .datagrid table th { padding: 3px 10px; }.datagrid table thead th {background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #006699), color-stop(1, #00557F) );background:-moz-linear-gradient( center top, #006699 5%, #00557F 100% );filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#006699', endColorstr='#00557F');background-color:#006699; color:#FFFFFF; font-size: 15px; font-weight: bold; border-left: 1px solid #0070A8; } .datagrid table thead th:first-child { border: none; }.datagrid table tbody td { color: #00496B; border-left: 1px solid #E1EEF4;font-size: 12px;font-weight: normal; }.datagrid table tbody .alt td { background: #E1EEF4; color: #00496B; }.datagrid table tbody td:first-child { border-left: none; }.datagrid table tbody tr:last-child td { border-bottom: none; }.datagrid table tfoot td div { border-top: 1px solid #006699;background: #E1EEF4;} .datagrid table tfoot td { padding: 0; font-size: 12px } .datagrid table tfoot td div{ padding: 2px; }.datagrid table tfoot td ul { margin: 0; padding:0; list-style: none; text-align: right; }.datagrid table tfoot  li { display: inline; }.datagrid table tfoot li a { text-decoration: none; display: inline-block;  padding: 2px 8px; margin: 1px;color: #FFFFFF;border: 1px solid #006699;-webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #006699), color-stop(1, #00557F) );background:-moz-linear-gradient( center top, #006699 5%, #00557F 100% );filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#006699', endColorstr='#00557F');background-color:#006699; }.datagrid table tfoot ul.active, .datagrid table tfoot ul a:hover { text-decoration: none;border-color: #006699; color: #FFFFFF; background: none; background-color:#00557F;}div.dhtmlx_window_active, div.dhx_modal_cover_dv { position: fixed !important; }

.button {
 padding:5px; cursor:pointer; background:grey; color:white; width:25px; height:15px; text-align:center; display:inline-block;
}
        input[type=text] {
            width:20px;
              padding: 0;
  height: 20px;
  position: relative;
  left: 0;
  outline: none;
  border: 1px solid #cdcdcd;
  border-color: rgba(0, 0, 0, .15);
  background-color: white;
  font-size: 16px;
        }
.button:hover {
background:black;
}
 </style>
    <script>
       
        $(document).ready(function () {
            BuildTable();

            var isMobile = {
                Android: function () {
                    return navigator.userAgent.match(/Android/i);
                },
                BlackBerry: function () {
                    return navigator.userAgent.match(/BlackBerry/i);
                },
                iOS: function () {
                    return navigator.userAgent.match(/iPhone|iPad|iPod/i);
                },
                Opera: function () {
                    return navigator.userAgent.match(/Opera Mini/i);
                },
                Windows: function () {
                    return navigator.userAgent.match(/IEMobile/i);
                },
                any: function () {
                    return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
                }
            };
            $("#mybutton").on("click", '.whatsapp', function () {
                if (isMobile.any()) {

                    var text = $(this).attr("data-text");
                    var url = $(this).attr("data-link");
                    var message = encodeURIComponent(text) + " - " + encodeURIComponent(url);
                    var whatsapp_url = "whatsapp://send?text=" + message;
                    window.location.href = whatsapp_url;
                } else {
                    alert("This option is only available on mobile devices.");
                }

            });
        });


        function addproduct(ctrl) {
            var ctrlval = ctrl.id.split('_');
            var ctrlname = "#Qty_" + ctrlval[1];
            var ctrltotal = "#Total_" + ctrlval[1];
            var textvalue = $(ctrlname).val();
           if (textvalue == "") {
               $(ctrlname).val("1");
               calculateQuantity(ctrl);
            }
            else {
                var textvalue1 = $(ctrlname).val();
                $(ctrlname).val(++textvalue1);
                calculateQuantity(ctrl);
            }
          
        }
        function minusproduct(ctrl) {
            var ctrlval = ctrl.id.split('_');
            var ctrlname = "#Qty_" + ctrlval[1];
            var textvalue = $(ctrlname).val();
            if (textvalue == "" || textvalue == 0) {
                $(ctrlname).val("");
            }
            else {
                var textvalue1 = $(ctrlname).val();
                $(ctrlname).val(--textvalue1);
                calculateQuantity(ctrl);
            }

        }

        function calculateQuantity(ctrl) {
            var ctrlval = ctrl.id.split('_');
            var ctrlQty = "#Qty_" + ctrlval[1];
            var ctrlprice = "#Price_" + ctrlval[1];
            var ctrltotal = "#Total_" + ctrlval[1];
            $(ctrltotal).text($(ctrlprice).text() * $(ctrlQty).val());
            $(ctrltotal).each(function () {
                $(this).text(parseFloat($(this).text()).toFixed(2));
            });
        }


        function BuildTable() {
            var myObj, x;
            myObj = [{ Name: "Chilly", Price: 30.00},
            { Name: "aavinmilk500", Price: 26.00 },
            { Name: "aarokiyaMilk", Price: 30.00 }
            ];
     
    
            for (var i = 0; i <= myObj.length - 1; i++) {
                var str = "<tr class='alt'><td>" + myObj[i].Name + "</td><td><div id='Price_" + i + "'>" + myObj[i].Price + "</div>" +
                "<span class='plus button' id='sp_" + i + "' onclick='addproduct(this);' >+</span>" +
                "<input type='text' name='qty' id='Qty_" + i + "' maxlength='2'/>" +
                "<span class='min button' id='ssp_" + i + "'  onclick='minusproduct(this);'>-</span>" +
                "<br /><div id='Total_" + i + "'></div></td></tr>'";
                $('#maintable').append(str);
             
            }


        }


        function SetGridData(url, DeletecommandName, ColumnNamePrefix) {

            $.ajax({
                type: 'POST',
                url: url,
                contentType: 'application/json; charset=utf-8',
                dataType: 'json',
                success: function (json) {
                    var tr;
                    var div = "";

                    for (var i = 0; i < json.d.length; i++) {

                        div = div + "<div><img src='image/" + json.d[i].ImageName + "' /></div>";
                        //   tr = $("<tr style='background-color:#ffff;' id=DR" + ColumnNamePrefix + i + ">");
                        //   tr.append("<td>" + json.d[i].Name + "</td>");
                        //   tr.append("<td>" + json.d[i].ID + "</td>");
                        ////   tr.append("<td>" + json.d[i].Relationship + "</td>");
                        //  // tr.append("<td>" + json.d[i].Status + "</td>");
                        //   tr.append("<td align='center'><img src='../Images/Delete_Icon_Grid.jpg' style='cursor:hand;'  align='center' id='deleteRow' onclick='" + DeletecommandName + "(" + i + ");'  /></td>");
                        //   $('#Dependanttable').append(tr);
                    }
                    $('#container1').append(div);
                },

                error: function () {
                    //   throw new Error('AJAX request error occurred.');
                    alert(json);
                }

            });
        }

    </script>
</head>
<body>
    <div class="datagrid" ><table id="maintable">
<thead><tr><th>Product</th><th>Price</th></tr></thead>
<tbody>
</tbody>
</table></div>
    <input type="button" id="mybutton" value="Whatsapp" />

</body>
</html>
