<!DOCTYPE html>
<html>
<title>W3.CSS</title>
    <head>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="file.js"></script>
        <script>

            $(document).ready(function () {
                BuildTable();

                var isMobile = {
                    Android: function () {
                        return navigator.userAgent.match(/Android/i);
                    },
                    BlackBerry: function () {
                        return navigator.userAgent.match(/BlackBerry/i);
                    },
                    iOS: function () {
                        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
                    },
                    Opera: function () {
                        return navigator.userAgent.match(/Opera Mini/i);
                    },
                    Windows: function () {
                        return navigator.userAgent.match(/IEMobile/i);
                    },
                    any: function () {
                        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
                    }
                };

                $("#mybutton").on("click", function () {

                    alert("ffdg");
                    if (isMobile.any()) {

                        var text = $(this).attr("data-text");
                        var url = $(this).attr("data-link");
                        var message = "hi how are you";
                        var whatsapp_url = "https://api.whatsapp.com/send?phone=919940471903&text=" + message;
                        window.location.href = whatsapp_url;
                    } else {
                        alert("This option is only available on mobile devices.");
                    }

                });
            });


            function addproduct(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlname = "#Qty_" + ctrlval[1];
                var ctrltotal = "#Total_" + ctrlval[1];
                var textvalue = $(ctrlname).val();
                if (textvalue == "") {
                    $(ctrlname).val("1");
                    calculateQuantity(ctrl);
                    GrandTotal();
                }
                else {
                    var textvalue1 = $(ctrlname).val();
                    $(ctrlname).val(++textvalue1);
                    calculateQuantity(ctrl);
                    GrandTotal();
                }

            }
            function minusproduct(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlname = "#Qty_" + ctrlval[1];
                var textvalue = $(ctrlname).val();
                if (textvalue == "" || textvalue == 0) {
                    $(ctrlname).val("");
                }
                else {
                    var textvalue1 = $(ctrlname).val();
                    $(ctrlname).val(--textvalue1);
                    calculateQuantity(ctrl);
                    GrandTotal();
                }

            }

            function calculateQuantity(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlQty = "#Qty_" + ctrlval[1];
                var ctrlprice = "#Price_" + ctrlval[1];
                var ctrltotal = "#Total_" + ctrlval[1];
                $(ctrltotal).text($(ctrlprice).text() * $(ctrlQty).val());
                $(ctrltotal).each(function () {
                    $(this).text(parseFloat($(this).text()).toFixed(2));
                });
            }

            function GrandTotal() {
                var total = 0;
                for (var i = 0; i <= myObj.length - 1; i++) {
                    if ($("#Total_" + i).text() != "") {
                        total = total + parseInt($("#Total_" + i).text());
                        //alert(total) + "--i value "+ i;
                    }
                 }
                $("#GrandTotal").text("");
                $("#GrandTotal").text(total);
                $("#GrandTotal").each(function () {
                    $(this).text(parseFloat($(this).text()).toFixed(2));
                });
            }

            function BuildTable() {



                for (var i = 0; i <= myObj.length - 1; i++) {
                   var str = "<tr class='alt'><td>" + myObj[i].Name + "</td><td><div id='Price_" + i + "'>" + Number(myObj[i].Price).toFixed(2) + "</div></td><td>" +
                            "<span class='plus button' id='sp_" + i + "' onclick='addproduct(this);' >+</span>" +
                            "<input class='qtybox' type='text' name='qty' id='Qty_" + i + "' maxlength='2' readonly/>" +
                            "<span class='min button' id='ssp_" + i + "'  onclick='minusproduct(this);'>-</span>" +
                            "</td><td><div id='Total_" + i + "'></div></td></tr>'";
                    $('#maintable').append(str);
                }
            }
    </script>
           <style>
.button {
 padding:5px; cursor:pointer; background:grey; color:white; width:25px; height:25px; text-align:center; display:inline-block;
}
        .qtybox{
            width:20px;
              padding: 0;
            padding-top: 5px;
  height: 20px;
  position: relative;
  left: 0;
  outline: none;
  border: 1px solid #cdcdcd;
  border-color: rgba(0, 0, 0, .15);
  background-color: white;
  font-size: 16px;
        }
.button:hover {
background:black;
}
 </style>
    </head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<body>

<div class="w3-container w3-teal">
<h1>Rahaman Stores</h1>
</div>
  <div class="w3-panel w3-pale-green w3-bottombar w3-border-green w3-border w3-auto">
    <p>Free Home Delivery 9.00 AM - 8.00 PM</p>
  </div>
<div class="w3-content">

<div class="w3-row w3-margin">
<div class="w3-twothird w3-container">
        <table id="maintable" class="w3-table">
<thead><tr><th>Product</th><th>Price</th><th>count</th><th>Total</th></tr></thead>
<tbody>
</tbody>
</table>
</div>






</div>
</div>
 <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-black" style="float:right;">OrderNow</button>
    <div class="w3-container w3-teal">
        <div class="w3-row">
  <div class="w3-col s6  w3-center"><h2><p>Total:</p></h2></div>
  <div class="w3-col s6  w3-center"><h2><p id="GrandTotal">00.00</p></h2></div>
</div>
 
</div>
    <!-- The Modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content">
      <form class="w3-container">
      <span onclick="document.getElementById('id01').style.display='none'"
      class="w3-button w3-display-topright">&times;</span>
<label>Name</label>
<input class="w3-input" type="text">
<label>MobileNumber</label>
<input class="w3-input" type="text">
<label>Address</label>
<input class="w3-input" type="text">
<div>
    <div style="float:right;"><button class="w3-button w3-teal">PlaceOrder</button></div>
</div>
                            

</form>
  </div>
</div>
</body>
</html>
