<!DOCTYPE html>
<html>
<title>RMN Store</title>
    <Head>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>

    var myObj;
    myObj = [
{ Name: "роиро╛роЯрпНроЯрпБроЪро░рпНроХрпНроХро░рпИ  роЖро░рпНроХро╛ройро┐роХрпН   500GM", Price: 42.00, Category: 35001 },
{ Name: "роиро╛роЯрпНроЯрпБроЪро░рпНроХрпНроХро░рпИ  ро╕ро╛родро╛   500GM", Price: 33.00, Category: 35001 },
{ Name: "роЙро▓ро░рпНродро┐ро░ро╛роЯрпНроЪрпИ  250 GM", Price: 100.00, Category: 35002 },
{ Name: "роУроороорпН  100 GM", Price: 25.00, Category: 35002 },
{ Name: "роЙро▓ро░рпНродро┐ро░ро╛роЯрпНроЪрпИ ро╕ро╛родро╛   200GM", Price: 50.00, Category: 35002 },
{ Name: "роЙро▓ро░рпНродро┐ро░ро╛роЯрпНроЪрпИ SPL  200 GM", Price: 80.00, Category: 35002 },
{ Name: "рокро╛родро╛роорпН рокро░рпБрокрпНрокрпБ  200 GM", Price: 170.00, Category: 35002 },
{ Name: "рокро┐ро╕рпНродро╛ рокро░рпБрокрпНрокрпБ  200 GM", Price: 250.00, Category: 35002 },
{ Name: "роорпБроирпНродро┐ро░ро┐ рокро░рпБрокрпНрокрпБ  200GM", Price: 104.00, Category: 35002 },
{ Name: "родро┐ро░ро┐роХроЯрпБроХроорпН TEA  50 GM", Price: 40.00, Category: 35003 },
{ Name: "роЪрпБроХрпНроХрпБ рооро▓рпНро▓ро┐ роХро╛рокро┐  SPL  50 GM", Price: 10.00, Category: 35003 },
{ Name: "роиро▓рпНро▓рпЖрогрпНрогрпЖропрпН  500ML", Price: 148.00, Category: 35004 },
{ Name: "роХроЯро▓рпИ роОройрпНройрпИ  500ML", Price: 148.00, Category: 35004 },
{ Name: "родрпЗроЩрпНроХро╛ропрпН роОрогрпНрогрпЖропрпН  500ML", Price: 148.00, Category: 35004 },
{ Name: "ро╡рпЖрокрпНрок роОройрпНройрпИ  100ML", Price: 50.00, Category: 35004 },
{ Name: "роЖроорогроХрпНроХрпБ роОрогрпНрогрпЖропрпН  100ML", Price: 50.00, Category: 35004 },
{ Name: "роХроЯрпБроХрпБ роОрогрпНрогрпЖропрпН  100 ML", Price: 75.00, Category: 35004 },
{ Name: "ро╡рпЗро▒рпНроХроЯро▓рпИ  1 KG", Price: 140.00, Category: 35002 },
{ Name: "рооро▓рпИ родрпЗройрпН  250ML", Price: 145.00, Category: 35005 },
{ Name: "роЖрокрпНрокро┐ро│рпН ро╡ро┐ройро┐роХро░рпН  500ML", Price: 200.00, Category: 35005 },
{ Name: "ро░рпЛро╕рпН  ро╡ро╛роЯрпНроЯро░рпН   100 ML", Price: 15.00, Category: 35005 },
{ Name: "роорпБро▓рпНродро╛ройро┐ роорпЖроЯрпНроЯро┐   100 GM", Price: 20.00, Category: 35005 },
{ Name: "HONXEY NUTS I  300 GM", Price: 130.00, Category: 35005 }
    ];
        </script>
       
        <script>
            $(document).ready(function () {
                BuildTable();
                BuildCategory();
                var isMobile = {
                    Android: function () {
                        return navigator.userAgent.match(/Android/i);
                    },
                    BlackBerry: function () {
                        return navigator.userAgent.match(/BlackBerry/i);
                    },
                    iOS: function () {
                        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
                    },
                    Opera: function () {
                        return navigator.userAgent.match(/Opera Mini/i);
                    },
                    Windows: function () {
                        return navigator.userAgent.match(/IEMobile/i);
                    },
                    any: function () {
                        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
                    }
                };

                $("#mybutton").on("click", function () {

                    var areaname = $('#Cmboarea').find(":selected").val();

                    if ($("#txtName").val().length == 0 || $("#txtMobile").val().length == 0 || $("#txtAddress").val().length == 0 || areaname == 0) {
                        // alert("Please Provide all Information");
                        document.getElementById('id02').style.display = 'block';
                        $("#msg").text("Please Provide all Information");
                    }
                    else if ($("#txtName").val().length > 0 && $("#txtMobile").val().length > 0 && $("#txtAddress").val().length > 0) {
                        var area = $('#Cmboarea').find(":selected").text();
                        var List = "";
                        List += "Name:" + $("#txtName").val() + "\n\n";
                        List += "Mobile:" + $("#txtMobile").val() + "\n\n";
                        List += "Address:" + $("#txtAddress").val() + "\n\n";
                        List += "Area:" + area + "\n\n";

                        for (var i = 0; i <= myObj.length - 1; i++) {
                            if ($("#Qty_" + i).val().length > 0) {
                                List += myObj[i].Name + "  " + $("#Price_" + i).text() + "  " + $("#Qty_" + i).val() + " " + $("#Total_" + i).text() + "\n\n";
                            }
                        }
                        List += "GrandTotal" + $("#GrandTotal").text();
                        if (isMobile.any()) {
                            var whatsappMessage = window.encodeURIComponent(List)
                            var whatsapp_url = "https://api.whatsapp.com/send?phone=917358862009&text=" + whatsappMessage;
                            window.location.href = whatsapp_url;
                        }
                        else {
                            alert("This option is only available on mobile devices.");
                        }

                    }


                });


                $('#Cmboarea').change(function () {
                    var selectedVal = $('#Cmboarea option:selected').attr('value');
                    if (selectedVal == 1 && parseFloat($("#GrandTotal").text()) < 100) {
                        //eastgate
                        document.getElementById('id02').style.display = 'block';
                        $("#msg").text("родропро╡рпБ роЪрпЖропрпНродрпБ роХрпБро▒рпИроирпНродродрпБ тВ╣100 роЖро░рпНроЯро░рпН роЪрпЖропрпНропро╡рпБроорпН роиройрпНро▒ро┐.");
                    }
                    else if (selectedVal == 2 && parseFloat($("#GrandTotal").text()) < 300) {
                        //medical college
                        document.getElementById('id02').style.display = 'block';
                        $("#msg").text("родропро╡рпБ роЪрпЖропрпНродрпБ роХрпБро▒рпИроирпНродродрпБ тВ╣300 роЖро░рпНроЯро░рпН роЪрпЖропрпНропро╡рпБроорпН роиройрпНро▒ро┐.");
                    }
                    else if (selectedVal == 3 && parseFloat($("#GrandTotal").text()) < 250) {
                        //arulanthan nagar
                        document.getElementById('id02').style.display = 'block';
                        $("#msg").text("родропро╡рпБ роЪрпЖропрпНродрпБ роХрпБро▒рпИроирпНродродрпБ тВ╣250 роЖро░рпНроЯро░рпН роЪрпЖропрпНропро╡рпБроорпН роиройрпНро▒ро┐.");
                    }


                });

            });

            function BuildCategory() {
                var my_categories = [];
                var cName = 0;
                for (j = 0; j <= myObj.length - 1; j++) {
                    if (cName != myObj[j].Category) {
                        cName = myObj[j].Category;
                        my_categories.push(myObj[j].Category);
                    }
                }
                var uniqueNames = [];
                $.each(my_categories, function (i, el) {
                    if ($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);
                });
                for (var i = 0; i <= uniqueNames.length - 1; i++) {
                    var images;
                    var inames;
                    if (uniqueNames[i] == "35001") {
                        images = "M_Sugar.png";
                        inames = "роЪро░рпНроХрпНроХро░рпИ";
                    }
                    else if (uniqueNames[i] == "35002") {
                        images = "M_Nuts.png";
                        inames = "рокро░рпБрокрпНрокрпБ";
                    }
                    else if (uniqueNames[i] == "35003") {
                        images = "M_Tea.png";
                        inames = "роХро╛рокро┐";
                    }
                    else if (uniqueNames[i] == "35004") {
                        images = "M_oil.png";
                        inames = "роОрогрпНрогрпЖропрпН";
                    }
                    else if (uniqueNames[i] == "35005") {
                        images = "M_General.png";
                        inames = "рокро▓роЪро░роХрпНроХрпБ";
                    }

                    var str = "<div  style='text-align:center;' onclick=ShowFilterTable('" + uniqueNames[i] + "'); class='w3-card-4'>" +
                    "<img src='https://raw.githubusercontent.com/Harmin00/RMS/master/" + images + "'>" +
                    "<div class='w3-container w3-center'>" +
                     "<p>" + inames + "</p></div></div>";
                    $('#Divcategory').append(str);
                }
                $("#maintable").hide();
                $('#Btnhome').hide();
            }

            function ShowFilterTable(category) {
                $("#maintable tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(category) > -1)
                });
                $('#Divcategory').hide();
                $("#maintable").show();
                $('#Btnhome').show();
            }


            function addproduct(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlname = "#Qty_" + ctrlval[1];
                var ctrltotal = "#Total_" + ctrlval[1];
                var textvalue = $(ctrlname).val();
                if (textvalue == "") {
                    $(ctrlname).val("1");
                    calculateQuantity(ctrl);
                    GrandTotal();
                }
                else {
                    var textvalue1 = $(ctrlname).val();
                    $(ctrlname).val(++textvalue1);
                    calculateQuantity(ctrl);
                    GrandTotal();
                }

            }
            function minusproduct(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlname = "#Qty_" + ctrlval[1];
                var textvalue = $(ctrlname).val();
                if (textvalue == "" || textvalue == 0) {
                    $(ctrlname).val("");
                }
                else {
                    var textvalue1 = $(ctrlname).val();
                    $(ctrlname).val(--textvalue1);
                    calculateQuantity(ctrl);
                    GrandTotal();
                }

            }

            function calculateQuantity(ctrl) {
                var ctrlval = ctrl.id.split('_');
                var ctrlQty = "#Qty_" + ctrlval[1];
                var ctrlprice = "#Price_" + ctrlval[1];
                var ctrltotal = "#Total_" + ctrlval[1];
                $(ctrltotal).text($(ctrlprice).text() * $(ctrlQty).val());
                $(ctrltotal).each(function () {
                    $(this).text(parseFloat($(this).text()).toFixed(2));
                });
            }

            function GrandTotal() {
                var total = 0;
                for (var i = 0; i <= myObj.length - 1; i++) {
                    if ($("#Total_" + i).text() != "") {
                        total = total + parseFloat($("#Total_" + i).text());
                        //alert(total) + "--i value "+ i;
                    }
                }
                $("#GrandTotal").text("");
                $("#GrandTotal").text(total);
                $("#GrandTotal").each(function () {
                    $(this).text(parseFloat($(this).text()).toFixed(2));
                });
            }


            function OrderNow() {
                var tot = parseFloat($("#GrandTotal").text());
                if (tot > 0) {
                    document.getElementById('id01').style.display = 'block';
                }
                else {
                    alert("Nothing To Order..");
                }
            }

            function Home() {
                $('#maintable').hide();
                $('#Divcategory').show();
                $('#Btnhome').hide();

            }
            function BuildTable() {


                for (var i = 0; i <= myObj.length - 1; i++) {
                    var str = "<tr  style='color:#357ef2;'class='alt'><td>" + myObj[i].Name + "</td><td><div id='Price_" + i + "'>" + Number(myObj[i].Price).toFixed(2) + "</div></td><td>" +
                             "<div class='curve'><span class='plus button' id='sp_" + i + "' onclick='addproduct(this);' >+</span>" +
                             "<input class='qtybox' type='text' name='qty' id='Qty_" + i + "' maxlength='2' readonly/>" +
                             "<span class='min button' id='ssp_" + i + "'  onclick='minusproduct(this);'>-</span></div>" +
                             "</td><td><div id='Total_" + i + "'></div></td><td style='display:none;'>" + myObj[i].Category + "</td></tr>'";
                    $('#maintable').append(str);
                }
            }
        </script>
           <style>
.button {
 padding:5px; cursor:pointer; color:#4c8aed; width:15px; height:10px; text-align:center; font-size:11px; display:inline-block;
}
        .qtybox{
            width:20px;
              padding: 0;
            padding-top: 5px;
  height: 15px;
  position: relative;
  left: 0;
  outline: none;
  border: 0px solid #cdcdcd;
  border-color: rgba(0, 0, 0, .15);
  background-color: white;
  font-size: 10px;
  text-align:center;
        }
.button:hover {
/*background:black;*/
}
               .curve {
border-radius: 50px; 
-moz-border-radius: 50px; 
-webkit-border-radius: 50px; 
border: 1px solid #4c8aed;
width:55px;
height:20px;
}
 </style>
    </Head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-light-blue.css">
<body>

<div class="w3-container w3-blue">
<h2>ЁЭРСЁЭРМЁЭРН ЁЭРТЁЭРнЁЭРиЁЭРлЁЭРЮЁЭРм</h2>
    <h3>ЁЭРУЁЭРбЁЭРЪЁЭРзЁЭРгЁЭРЪЁЭРпЁЭРоЁЭРл</h3>
    <h3>ЁЭРМЁЭРиЁЭРЫЁЭРвЁЭРеЁЭРЮ:917358862009</h3>
        </center>
</div>
  <div class="w3-panel  w3-blue w3-bottombar w3-border-green w3-border w3-auto">
    <p>Free Home Delivery 9.00 AM - 8.00 PM</p>
  </div>
    <img src="https://raw.githubusercontent.com/Harmin00/RMS/master/banner.png" />
     <img src="https://raw.githubusercontent.com/Harmin00/RMS/master/banner2.jpg" />
<div class="w3-content">

<div class="w3-row w3-margin">
<div class="w3-twothird w3-container">
    <div id="Divcategory"></div>

 <table id="maintable" class="w3-table w3-striped w3-bordered">

<thead><tr><th>Product</th><th>Price</th><th>count</th><th>Total</th><th></th></tr></thead>
</table>
</div>






</div>
</div>
  <button id="Btnhome"  onclick="Home();" class="w3-button w3-blue"  style="float:left;" >Back</button>  
 <button  onclick="OrderNow();" class="w3-button w3-blue"  style="float:right;" >OrderNow</button>
      <img src="https://raw.githubusercontent.com/Harmin00/RMS/master/banner3.png" />    
    <div class="w3-container w3-blue">
        <div class="w3-row">
  <div class="w3-col s6  w3-center"><h2><p>Total:</p></h2></div>
  <div class="w3-col s6  w3-center"><h2><p id="GrandTotal">00.00</p></h2></div>
</div>
 
</div>
    <!-- The Modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content">
      <div class="w3-container w3-blue">
      <span onclick="document.getElementById('id01').style.display='none'"
      class="w3-button w3-display-topright">&times;</span>
<label><b>рокрпЖропро░рпН</b></label>
<input id="txtName" class="w3-input" type="text">
<label><b>роорпКрокрпИро▓рпН роироорпНрокро░рпН</b></label>
<input id="txtMobile" class="w3-input" type="text">
<select class="w3-select" name="option" id="Cmboarea">
  <option value="0" disabled selected>роЙроЩрпНроХро│рпН роПро░ро┐ропро╛</option>
  <option value="1">роХрпАро┤ро╡ро╛роЪро▓рпН</option>
  <option value="2">роорпЖроЯро┐роХрпНроХро▓рпН роХро╛ро▓рпЗроЬрпН </option>
  <option value="3">роЕро░рпБро│ройрпНродро╛ройрпН роироХро░рпН</option>
</select>
<label><b>роорпБроХро╡ро░ро┐</b></label>
<input id="txtAddress" class="w3-input" type="text">
<div>
    <div style="float:right;"><button id="mybutton"  class="w3-button w3-green">Proceed</button></div>
</div>

</div>
  </div>
</div>

<div id="id02" class="w3-modal">
<div class="w3-modal-content">
      <div class="w3-container">
<div id="msg"></div>
<div>
    <div style="float:right;"><button id="Button1"  class="w3-button w3-red" onclick="document.getElementById('id02').style.display='none'" >Ok</button></div>
</div>

</div>
  </div>
</div>


</body>
</html>
